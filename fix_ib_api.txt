ğŸ”§ IB Gateway API Configuration Fix
=====================================

PROBLEM: Connection times out - API socket not properly enabled

SOLUTION: Enable API in IB Gateway on Windows

ğŸ“‹ STEP-BY-STEP FIX:

1ï¸âƒ£ In IB Gateway on Windows:
   â€¢ Click "Configure" menu â†’ "Global Configuration"
   â€¢ OR right-click in the main window â†’ "Global Configuration"

2ï¸âƒ£ In Global Configuration window:
   â€¢ Look for "API" section in the left sidebar
   â€¢ Click on "Settings" under API

3ï¸âƒ£ Enable API:
   â€¢ âœ… CHECK: "Enable ActiveX and Socket Clients"
   â€¢ âœ… CHECK: "Allow connections from localhost only" (or uncheck to allow WSL)
   â€¢ Set "Socket Port": 7497
   â€¢ In "Trusted IPs" field, add: 127.0.0.1,172.25.86.11
   â€¢ âœ… CHECK: "Create API message log file"

4ï¸âƒ£ Advanced Settings:
   â€¢ Set "Master API client ID": 0 (or leave default)
   â€¢ âœ… CHECK: "Download open orders on connection"
   â€¢ Set "Read-Only API": No (unchecked)

5ï¸âƒ£ Apply Settings:
   â€¢ Click "Apply" button
   â€¢ Click "OK" to close configuration
   â€¢ You may need to restart IB Gateway

ğŸ“Š Current Status Check:
   Port 7497 is listening: âœ… YES
   API responding: âŒ NO (times out)
   
ğŸ” What to Look For:
   After enabling API, you should see in IB Gateway:
   â€¢ Status line showing "API socket listening on port 7497"
   â€¢ No error messages about API being disabled

ğŸ§ª Test After Configuration:
   From WSL, run: python3 check_ib_balance.py

âš ï¸ Common Issues:
   â€¢ "Enable ActiveX and Socket Clients" MUST be checked
   â€¢ Port must match (7497)
   â€¢ WSL IP must be in Trusted IPs
   â€¢ May need to restart IB Gateway after changes